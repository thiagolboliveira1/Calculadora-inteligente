<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Calculadora de Comissão - Thiago Oliveira Designer</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="card">
    <h1>Calculadora de Comissão — Thiago Oliveira</h1>

    <div class="row">
      <div class="col">
        <label>Valor total do serviço (R$)</label>
        <input id="serviceValue" type="number" min="0" step="0.01" placeholder="ex: 1250.50" />
      </div>

      <div class="col">
        <label>% Comissão</label>
        <input id="commissionPct" type="number" min="0" max="100" step="0.01" value="20" />
        <div class="small">Padrão: 20% (edite se necessário)</div>
      </div>

      <div class="col">
        <label>Despesa - Almoço (R$)</label>
        <input id="expenseLunch" type="number" min="0" step="0.01" value="0" />
      </div>

      <div class="col">
        <label>Despesa - Gasolina (R$)</label>
        <input id="expenseGas" type="number" min="0" step="0.01" value="0" />
      </div>
    </div>

    <div class="row">
      <div class="col">
        <label>Data do registro</label>
        <input id="date" type="date" />
      </div>
      <div class="col">
        <label>Observações</label>
        <input id="notes" type="text" placeholder="ex: entrega casa do cliente X" />
      </div>
    </div>

    <div class="actions">
      <button id="btnCalc" class="btn-calc">Calcular</button>
      <button id="btnSave" class="btn-save" disabled>Salvar no Banco</button>
      <button id="btnPDF" class="btn-pdf">Exportar PDF (Recibo)</button>
      <button id="btnClear" class="btn-clear">Limpar</button>
      <div id="status" style="margin-left:auto"></div>
    </div>

    <div id="resultCard" class="result" style="display:none;">
      <div><strong>Comissão bruta:</strong> R$ <span id="commissionValue">0.00</span></div>
      <div><strong>Despesas:</strong> Almoço R$ <span id="dLunch">0.00</span> + Gasolina R$ <span id="dGas">0.00</span></div>
      <div style="margin-top:8px;"><strong>Resultado líquido (à receber):</strong> R$ <span id="netValue">0.00</span></div>
      <div class="small">Valor salvo por mês: <span id="monthKeyDisplay">-</span></div>
    </div>

    <div class="summary" id="monthlySummary" style="display:none;">
      <h3>Resumo do mês <span id="monthLabel"></span></h3>
      <div id="monthlyTotals">Carregando...</div>
      <div class="monthly-list" id="monthlyList"></div>
    </div>

    <div id="msg" class="message"></div>
  </div>

  <!-- Bibliotecas: jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- App scripts -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="app.js"></script>
</body>
</html>
